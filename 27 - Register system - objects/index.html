<!DOCTYPE html>
<html lang="fa" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript-Exc</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>


    <h2 class="title text-center text-success my-5 mx-auto ">Exercise</h2>
    <h4 class="description text-center px-3 lh-lg" dir="rtl">
        تمرین :
        یک سامانه ثبت نام پیاده سازی کنید

        به این شکل که یک آرایه برای ذخیره اطلاعات کاربران داشته باشید (3 کاربر را بطور دیفالت در آرایه داشته باشید)
        و از کاربری که قصد ثبت نام دارد نام، نام خانوادگی، سن و ایمیل را دریافت کرده
        و داخل آبجکتی مجزا در آرایه کاربران ذخیره کنید
        پس از انجام عمل ثبت نام، اطلالاعات تک تک کاربران را لاگ بگیرید

    </h4>
    <h3 class=" px-3 lh-lg text-secondary" dir="rtl">
        نکات قابل توجه :
        نام حداقل باید 3 کاراکتر و حداکثر 10 کاراکتر داشته باشد
        نام خانوادگی حداقل باید 3 کاراکتر و حداکثر باید 15 کاراکتر داشته باشد
        سن حتما باید عدد بوده و بین 18 و 100 باشد
    </h3>
    <div class="row p-5 container  mx-auto">
        <div class="col-4 mx-auto">
            <div>
                <input type="text" class="form-control" placeholder="First Name : " minlength="3" maxlength="10" id="fname">
                <input type="text" class="form-control" placeholder="Last Name : " minlength="3" maxlength="15" id="lname">
                <input type="number" class="form-control" placeholder="Age : " max="100" min="18" id="age">
                <input type="email" class="form-control" placeholder="Email : " id="email">

                <div class="my-3 row gap-4">
                    <button class="btn btn-success col " id="send" type="submit">Send</button>
                    <button class="btn btn-info col" id="log">Log</button>
                </div>
                <div class="text-success mx-auto text-center col-12 my-5" id="info"></div>
            </div>
        </div>
    </div>


    <style>
        @keyframes myMove {
            0% {
                font-size: 5rem;
            }

            100% {
                font-size: 0rem;
            }
        }

        .info-fade::after {
            content: "Success";
            font-size: 0rem;
            animation: myMove ease 3000ms;
        }
    </style>



    <script>
        let users = []
        users[0] = {
            id: 1,
            firstName: "amin",
            lastName: "barzegar",
            age: 25,
            email: "amin@gmail.com"
        }

        users[1] = {
            id: 2,
            firstName: "ali",
            lastName: "ahmadi",
            age: 34,
            email: "ali@gmail.com"
        }
        users[2] = {
            id: 3,
            firstName: "mohsen",
            lastName: "diris",
            age: 46,
            email: "mohsen@gmail.com"
        }




        document.getElementById('send').addEventListener('click', function () {

            let userFirstName = document.getElementById('fname').value;
            let userLastName = document.getElementById('lname').value;
            let userAge = document.getElementById('age').value;
            let userEmail = document.getElementById('email').value;


            if (userFirstName.length < 3 || userFirstName.length > 10) {
                alert("First Name Length Must Be Between 3 To 10");
                return;
            }
            if (userLastName.length < 3 || userLastName.length > 15) {
                alert("Last Name Length Must Be Between 3 To 15");
                return;
            }
            if (userAge > 100 || userAge < 18) {
                alert("Age Length Must Be Between 18 To 100");
                return;
            }

            let newUser = {
                id: users.length + 1,
                firstName: userFirstName,
                lastName: userLastName,
                age: userAge,
                email: userEmail
            }

            users.push(newUser);
            document.getElementById('info').innerHTML = "";
            document.getElementById('info').classList.add('info-fade');
            document.getElementById('send').disabled = true;
            document.getElementById('log').disabled = true;


            setTimeout(() => {
                document.getElementById('info').classList.remove('info-fade');
                document.getElementById('send').disabled = false;
                document.getElementById('log').disabled = false;
            }, 3000);

        })


        document.getElementById('log').addEventListener('click', function () {
            console.log(users);
            document.getElementById('info').innerHTML = JSON.stringify(users);
        })




    </script>
</body>

</html>