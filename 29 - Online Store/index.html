<!DOCTYPE html>
<html lang="fa" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript-Exc</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>


    <h2 class="title text-center text-success my-5 mx-auto ">Exercise</h2>
    <h4 class="description text-center px-3 lh-lg" dir="rtl">
        یک فروشگاه آنلاین پیاده سازی کنید

        به این شکل که محصولات فروشگاه خود را در دیتابیسی ذخیره کرده (آرایه) و آرایه ای برای سبد خرید کاربر داشته باشید
        و از کاربر اسم محصولی را که قصد اضافه کردن به سبد خرید دارد ، دریافت کنید

        اگر محصول درخواستی کاربر در انبار فروشگاه شما موجود بود، آن را به سبد خرید کاربر اضافه کنید
        و سپس مبلغ کل سبد خرید را محاسبه کرده و به کاربر نمایش دهید
        و در غیر این صورت به کاربر پیغام اتمام موجودی نمایش دهید

        :نکات قابل توجه
        بعد از اضافه محصول به سبد خرید کاربر، سبد را در کنسول نمایش دهید
        به طور دیفالت 3 محصول با قیمت های مختلف در سبد خرید کاربر موجود باشد

    </h4>





    <script>
        let products = [
            { name: 'mobile', price: 1000 },
            { name: 'labtop', price: 2000 },
            { name: 'watch', price: 500 },
            { name: 'mouse', price: 200 },
            { name: 'keyboard', price: 300 },
            { name: 'speaker', price: 600 },
            { name: 'headphone', price: 400 }
        ]

        let cart = [
            { name: 'headphone', price: 400 },
            { name: 'speaker', price: 600 },
            { name: 'watch', price: 500 }
        ]

        let userRequest = prompt("Enter The Product Name : \n" + "mobile , labtop , watch , mouse , keyboard , speaker , headphone \n" + "0 to Exit !!!");

        while (userRequest != 0) {
            let sumCart = 0;
            cart.forEach(function (item) {
                sumCart += item.price
            })

            // let productFinded = null;

            let isExistProduct = products.some(function (product) {
                productFinded = {
                    name: product.name,
                    price: product.price
                }
                return product.name == userRequest
            })

            if (isExistProduct) {
                cart.push(productFinded)
                console.log(cart);


                sumCart += productFinded.price



            }
            else {
                alert("This Product is not Find !")
                console.log(cart);
            }

            console.log("Sum = " + sumCart);
            userRequest = prompt("Enter The Product Name : \n" + "mobile , labtop , watch , mouse , keyboard , speaker , headphone \n" + "0 to Exit !!!");
        }

    </script>
</body>

</html>